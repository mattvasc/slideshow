<header>
    OPUS internSlides
    <button *ngIf="_data.user" data-toggle="modal" data-target="#modalCreate" (click)="openModalCreate()" >+</button>
    <button *ngIf="!_data.user" data-toggle="modal" data-target="#modalLogin" (click)="openModalLogin()">Login</button>
    <button *ngIf="_data.user" (click)="logout()">Logout</button>
</header>
<div class="slide-encapsulation">

    <div class="presentations-user" *ngIf="_data.user">
        <h2>Your Presentations</h2>
        <h4>
            Search your Presentations:
            <input type="text" name="Find">
        </h4>
        <div *ngFor="let presentation of P; index as i">
            <div *ngIf="presentation.owner == _data.user.name && i<4">
                <button (click)="deletePresentation(i)">Delete</button>
                <button (click)="teste()">Present</button>
                <button (click)="editPresentation(i)">Edit</button>
            </div>
            <div class="slide-wrapper">
                <div class="slide miniature" *ngIf="presentation.owner == _data.user.name && i<4" [style.backgroundImage]="'url(' + presentation.background + ')'">
                    <div *ngIf="presentation.owner == _data.user.name" id="page">
                        <div *ngFor="let element of presentation.slides[0].elements" [ngStyle]="element.style" [innerHtml]="element.data"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="presentations-all">

        <h2>Popular Presentations</h2>

        <h4>
            Search Presentations:
            <input type="text" name="Find">
            <button>Teste</button>
        </h4>
        <div *ngFor="let presentation of P; index as i">
            <div *ngIf="i<4 && (!_data.user || _data.user.name !== presentation.owner)">
                <button (click)="teste()">Present</button>
            </div>
            <div class="slide-wrapper">
                <div *ngIf="i<4 && (!_data.user || _data.user.name !== presentation.owner)" class="slide miniature" [style.backgroundImage]="'url(' + presentation.background + ')'">
                    <div id="page">
                        <div *ngFor="let element of presentation.slides[0].elements" [ngStyle]="element.style" [innerHtml]="element.data"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Modal bootstrap para login -->
<div class="modal fade" id="modalLogin" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Do Login</h4>
            </div>
            <div class="modal-body">
                <div>
                    <label for="uname"><b>Username:</b></label>
                    <input type="text" placeholder="Enter Username" #modalusername [(ngModel)]="username"  style="top:20vh">
                </div>
                <div>
                    <label for="psw"><b>Password:</b></label>
                    <input type="password" placeholder="Enter Password" (keyup.enter)="login()" [(ngModel)]="password" >
                </div>


            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-default btn-primary" data-dismiss="modal" (click)="login()">Login</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal bootstrap para add novo slide -->
<div class="modal fade" id="modalCreate" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">New Presentation</h4>
                </div>
                <div class="modal-body">
                    <div>
                        <label for="uname"><b>Name:</b></label>
                        <input type="text" placeholder="Enter Presentation Name" [(ngModel)]="username"  style="top:20vh">
                    </div>
                    <div>
                        <label for="psw"><b>Background Image URL:</b></label>
                        <input type="text" placeholder="Empty for None" (keyup.enter)="newPresentation()" [(ngModel)]="password" >
                    </div>
    
    
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-default btn-primary" data-dismiss="modal" (click)="newPresentation()">Create</button>
                </div>
            </div>
        </div>
    </div>
